[31/Mar/2014 09:54:43] DEBUG [articles.views:139] BEHOLD {u'data': {u'text': u'function getParameterByName(name) {\n    name = name.replace(/[\\[]/, "\\\\[").replace(/[\\]]/, "\\\\]");\n    var regex = new RegExp("[\\\\?&]" + name + "=([^&#]*)"),\n        results = regex.exec(location.search);\n    return results == null ? "" : decodeURIComponent(results[1].replace(/\\+/g, " "));\n}\n\n\tvar NewSlideOption = function(name){\n\t\tthis.name = name;\n\t\tthis.setNewSlideName = function(){\n\t\t\ttc.UIManager.addNewSlide(this.name);\n\t\t}\n\t}\n\n\n\n\ttc.onNameNextClick = function(){\n\t    tc.koModel.slideSectionInitialized(true);\n\t}\n\n\ttc.adjustUI = {\n\t    editorHeight : \'\',\n\t    adjustHeight : function(){\n\t        h = $( window ).height();\n\t\t\th = h - 46 - 46 - 10;\n\t\t\th1 = h + \'px\'\n\t        //$(\'#editor\').css(\'height\', h1);\n\t        tc.adjustUI.editorHeight = h;\n\t        $(\'.tc_adjust_ui\').css(\'height\', h1);\n\t    },\n\t}\n\n\n\ttc.selectOptions = function(n,d){\n\t\tthis.name = n,\n\t\tthis.data = d\n\t}\n\n\n\ttc.koModel = {\n\t    newSlideOptions : ko.observableArray([\n\t\t\tnew NewSlideOption("Text Slide"),\n\t\t\tnew NewSlideOption("Code Slide"),\n\t\t\tnew NewSlideOption("Image Slide"),\n\t\t    ]),\n\t    \n\t    //It is later overridden in document ready function.\n\t    articleDetails : tc.articleDetails,\n\t    slideSectionInitialized : ko.observable(false),\n\t    slides :  ko.observableArray(),\n\t\tcurrentSlide : ko.observable(),\n\t\tpreviewCurrentSlide : ko.observable(),\n\t\t\n\n\t\twatch : ko.observable(),\n\t\tpreviewWatch : ko.observable(),\n\t\thelpTemplateID : ko.observable(\'help_empty\'),\n\t\tshowHelpTemplate : function(){\n\t\t    ret = tc.koModel.helpTemplateID();\n\t\t    return ret;\n\t\t}.bind(tc.KoModel),\n\t\t\n\t\tshowTemplate : function(s){\n\t    \treturn this.showTemplateInternal(this.currentSlide(), s)\n\t\t},\n\t\t\n\t\tshowPreviewTemplate : function(s){\n\t\t    return this.showTemplateInternal( tc.koModel.previewCurrentSlide() ,s)\n\t\t},\n\t\t\n\t\tshowTemplateInternal : function(slide, s){\n\t\t\tif( slide ){\n\t\t\t\tvar t = slide.data.TYPE\n\t\t\t\tarr = new String(s).split("|");\n\t\t\t\tfor(var i = 0; i < arr.length; i++){\n\t\t\t\t\tif (arr[i] == t )\n\t\t\t\t\t\treturn  true;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn false\n\t\t},\n\t\t\n\t\tshowWatchTemplate : function(){\n\t        if( tc.koModel.watch()){\n\t            return true;\n\t        }\n\t        return false;\n\t\t},\n\t\t\n\t\tshowPreviewWatchTemplate : function(){\n\t        if( tc.koModel.previewWatch()){\n\t            return true;\n\t        }\n\t        return false;\n\t\t},\n\n\t\tdeleteWatch : function(){\n\t\t    tc.koModel.watch().delete();\n\t\t},\n\t\t\n\t\ttest : function(){\n\t\t\ttc.UIManager.changeSlide(tc.koModel.articleDetails)\n\t\t},\n\t\t\n\t\tcodeSlides : function(){\n\t\t\tret = ko.observableArray();\n\t\t\tko.utils.arrayForEach(tc.koModel.slides(), function(s) {\n\t\t\t\tif( s.data.TYPE == "CODE" ){\n\t\t\t\t\tif ( s == tc.koModel.currentSlide())\n\t\t\t\t\t{\n\t\t\t\t\t\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\tt = new tc.selectOptions(s.data.name,s.data)\n\t\t\t\t\t\tret.push(t)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t\t\n\t\t\treturn ret\n\t\t},\n\n\t\timageSlides : function(){\n\t\t\tret = ko.observableArray();\n\t\t\tko.utils.arrayForEach(tc.koModel.slides(), function(s) {\n\t\t\t\tif( s.data.TYPE == "IMAGE" ){\n\t\t\t\t\tif ( s == tc.koModel.currentSlide())\n\t\t\t\t\t{\n\t\t\t\t\t\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\tt = new tc.selectOptions(s.data.name,s.data)\n\t\t\t\t\t\tret.push(t)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t\t\n\t\t\treturn ret\n\t\t},\n\n\t\t\n\t\tcodeSlideForTemplate : ko.observable(),\n\t\timageSlideForTemplate : ko.observable(),\n\t\t\n\t}\n\n\ttc.koModel.codeSlideForTemplate.subscribe(function(newValue) {\n\t    if(newValue){\n\t\t\ttc.koModel.currentSlide().setText( newValue.data.text);\n\t\t}\n\t\t\n\t});\n\n\ttc.koModel.imageSlideForTemplate.subscribe(function(newValue) {\n\t    if(newValue){\n\t\t\ttc.koModel.currentSlide().data.src( newValue.data.src());\n\t\t}\n\t\t\n\t});\n\n\ttc.koModel.slideSectionInitialized.subscribe(function(newValue) {\n\t    /*if(newValue){\n\t\t\t//tc.createJSTree();\n\t\t}*/\n\t\t//\n\t\t$(\'#tc_tree_container\').show();\n\t\ttc.UIManager.addNewSlide("Text Slide");\n\t\ttc.koModel.articleDetails.data.showNextButton(false)\n\t\ttc.koModel.helpTemplateID(\'select_slide\');\n\t});\n\n\n\n\ttc.board = {\n\t\tbox : null,\n\t\tinitialized : false,\n\t\tinit : function(){\n\t\t\tif(this.initialized )\n\t\t\t\treturn\n\t\t\t\n\t\t\tthis.initialized = true;\n\t\t\t\n\n\t\t\t\n\t\t\t$(\'#board\').drag(\'start\',function(e,d) {\n\t\t\t\tevent = e\n\t\t\t\topos = [event.pageX, event.pageY];\n\t\t\t\t\n\t\t\t\telem = document.createElement(\'div\');\n\t\t\t\t\n\t\t\t\ttc.board.box = $(elem).css({border:\'1px solid black\'});\n\t\t\t\t\t\n\t\t\t\t\t\n\t\t\t\ttc.board.box.css({\n\t\t\t\t\t"z-index": 100,\n\t\t\t\t\t"position": "absolute",\n\t\t\t\t\t"left": event.clientX,\n\t\t\t\t\t"top": event.clientY,\n\t\t\t\t\t"width": 0,\n\t\t\t\t\t"height": 0,\n\t\t\t\t  "opacity" : .5,\n\t\t\t\t});\t\n\t\t\t\t\n\t\t\t\tdocument.body.appendChild(elem);\n\t\t\t})\n\n\t\t\t$(\'#board\').drag(\'drag\',function(e,d) {\n\t\t\t\tevent = e\n\t\t\t\tvar x1 = opos[0], y1 = opos[1], x2 = event.pageX, y2 = event.pageY;\n\t\t\t\t\tif (x1 > x2) { var tmp = x2; x2 = x1; x1 = tmp; }\n\t\t\t\t\tif (y1 > y2) { var tmp = y2; y2 = y1; y1 = tmp; }\n\t\t\t\t\ttc.board.box.css({left: x1, top: y1, width: x2-x1, height: y2-y1});\n\t\t\t})\n\n\n\t\t\t$(\'#board\').drag(\'end\',function(e,d) {\n\t\t\t\t//tc.board.offset = $(\'#board\').offset();\n\t\t\t\ttc.board.box.css({ border: \'1px solid white\', background: \'orange\', padding: \'0.5em\' })\n\t\t\t\ttc.UIManager.currentSlide.data.addWatch(tc.board.box);\n\t\t\t})\n\t\t},\n\n\t\t\'offset\' : function() {\n\t\t\t\treturn  $(\'#board\').offset();\n\t\t},\n\n\t}\n\n\n\n\n\n\n\n\ttc.tcEditor = function(type, div, theme, mode){\n\t    this.initialized = false;\n\t    this.div = div;\n\t    this.type = type;\n\t    this.theme = theme;\n\t    this.mode = mode;\n\t\tthis.init = function(){\n\t        if( this.initialized ){\n\t            return;\n\t        }\n\t\t\tvar editor = ace.edit(this.div);\n\t\t\t//editor.setTheme("ace/theme/monokai");\n\t\t\teditor.setTheme(this.theme);\n\t\t\t//editor.getSession().setMode("ace/mode/html");\n\t\t\teditor.getSession().setMode(this.mode);\n\t\t\tthis.aceEditor = editor;\n\t        if( this.type == "CODE" ){\n\t\t\t    this.aceEditor.on("guttermousedown",this.setWatch);\n\t    \t\tthis.aceEditor.on("change",this.documentChanged);\n\t\t\t}\n\t\t\telse if(this.type == "TEXT"){\n\t\t\t    editor.container.style.fontFamily = "\'Monaco\', \'Menlo\', \'Ubuntu Mono\', \'Consolas\', monospace";\n\t\t\t    editor.setShowPrintMargin(false);\n\t            editor.setBehavioursEnabled(false);\n\t            editor.renderer.setShowGutter(false);\n\t            editor.session.setUseWrapMode(true);\n\t\t\t}\n\t\t\tthis.initialized = true;\n\t\t},\n\t\t\n\t\tthis.resetWatches = function(arr){\n\t\t\ttc.codeEditor.aceEditor.session.setBreakpoints(arr);\n\t\t};\n\t\t\n\t\tthis.documentChanged = function(event){\n\t\t\teditor = tc.codeEditor.aceEditor;\n\t\t\tvar delta = event.data;\n\t\t\tvar range = delta.range;\n\t\t\tvar len, firstRow, f1;\n\n\t\t\tif (delta.action == "insertText") {\n\t\t\t\tlen = range.end.row - range.start.row;\n\t\t\t\tfirstRow = range.start.column == 0? range.start.row: range.start.row + 1;\n\t\t\t} else if (delta.action == "insertLines") {\n\t\t\t\tlen = range.end.row - range.start.row;\n\t\t\t\tfirstRow = range.start.row;\n\t\t\t} else if (delta.action == "removeText") {\n\t\t\t\tlen = range.start.row - range.end.row;\n\t\t\t\tfirstRow = range.start.row;\n\t\t\t} else if (delta.action == "removeLines") {\n\t\t\t\tlen = range.start.row - range.end.row;\n\t\t\t\tfirstRow = range.start.row;\n\t\t\t}\n\t\t\t\n\t\t\tvar breakpoints = editor.session.getBreakpoints();\n\t\t\tvar newBreakpoints = [];\n\t\t\t\n\t\t\tvar changed = false;\n\t\t\tif (len > 0) {\n\t\t\t\tfor( var index in breakpoints ) {\n\t\t\t\t\tvar idx = parseInt(index);\n\t\t\t\t\tvar n = idx;\n\t\t\t\t\tif( idx < firstRow ) {\n\t\t\t\t\t\tnewBreakpoints.push(idx);\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tchanged = true;\n\t\t\t\t\t\tnewBreakpoints.push(idx+len);\n\t\t\t\t\t\t//tc.UIManager.currentSlide.data.resetWatch({old:idx, new:idx+len});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else if (len < 0) {\n\t\t\t\tfor( var index in breakpoints ) {\n\t\t\t\t\tvar idx = parseInt(index);\n\t\t\t\t\tn = idx;\n\t\t\t\t\tif( idx < firstRow ) {\n\t\t\t\t\t\tnewBreakpoints.push(idx);\n\t\t\t\t\t}\n\t\t\t\t\telse if( (index < firstRow-len) && !newBreakpoints[firstRow]) {\n\t\t\t\t\t\tnewBreakpoints.push(firstRow);\n\t\t\t\t\t\tn = firstRow\n\t\t\t\t\t\tchanged = true;\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tnewBreakpoints.push(len+idx);\n\t\t\t\t\t\tn = len+idx\n\t\t\t\t\t\tchanged = true;\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\t//tc.UIManager.currentSlide.data.resetWatch({old:idx, new:n});\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tif( changed ) editor.session.setBreakpoints(newBreakpoints);\n\t\t};\n\t\t\n\t\tthis.setWatch = function(e){\n\t\t\teditor = tc.codeEditor.aceEditor;\n\t\t\tvar target = e.domEvent.target; \n\t\t\tif (target.className.indexOf("ace_gutter-cell") == -1) \n\t\t\t\treturn; \n\t\t\tif (!editor.isFocused()) \n\t\t\t\treturn; \n\t\t\tif (e.clientX > 25 + target.getBoundingClientRect().left) \n\t\t\t\treturn; \n\n\t\t\tvar row = e.getDocumentPosition().row \n\t\t\te.editor.session.setBreakpoint(row);\n\t\t\ttc.UIManager.currentSlide.data.addWatch(row);\n\t\t\te.stop() \n\t\t};\n\t\t\n\t\tthis.redraw = function(){\n\t\t\tthis.aceEditor.resize() \n\t\t\tthis.aceEditor.renderer.updateFull() \n\t\t};\n\t\t\n\t\tthis.setValue = function(s){\n\t\t\tthis.aceEditor.setValue(s, 1);\n\t\t};\n\t\t\n\t\tthis.getValue = function(){\n\t\t\treturn this.aceEditor.getValue();\n\t\t};\n\t\t\n\t\tthis.resetLang = function(s){\n\t\t\t/*if( s == "TEXT" ){\n\t\t\t\tthis.aceEditor.getSession().setMode("ace/mode/html");\n\t\t\t}\n\t\t\telse if( s== "CODE" ){\n\t\t\t\tthis.aceEditor.getSession().setMode("ace/mode/javascript");\n\t\t\t}*/\n\t\t};\n\t\t\n\t\tthis.clearAllWatches = function(){\n\t\t\ttc.codeEditor.aceEditor.session.setBreakpoints(new Array());\n\t\t};\n\t}\n\n\ttc.baseSlide = function(){\n\t    this.syncUI = function(){};\n\t    this.show = function(){};\n\t    this.syncData = function(){};\n\t    this.hide = function(){};\n\t    this.setText = function(text){};\n\t}\n\n\t\n\ttc.articleDetails = {\n\t    \'TYPE\' : \'METADATA\',\n\t    \'name\' : ko.observable(\'\'),\n\t    \'tags\' : ko.observable(\'\'),\n\t    \'zist\' : ko.observable(\'\'),\n\t    \'initialSeed\' : 0,\n\t    \'syncUI\' : function(){},\n\t    \'show\' : function(){\n\t        setTimeOut(\n\t            function(){\n\t                $(\'#name\').focus();\n\t            },\n\t            1000\n\t        );\n\t    },\n\t    \'syncData\' : function(){},\n\t    \'hide\' : function(){},\n\t    \'setText\' : function(text){},\n\t    \'changeSlide\' : function(){\n\t\t\ttc.UIManager.changeSlide(tc.koModel.articleDetails)\n\t\t},\n\t\t\'showNextButton\' : ko.observable(true),\n\t\t\'prepopulate\' : function(n,t,z){\n\t\t\tthis.name(n);\n\t\t\tthis.tags(t);\n\t\t\tthis.zist(z);\n\t\t}\n\t}\n\n\t//tc.articleDetails.prototype = new tc.baseSlide();\n\t//tc.articleDetails.prototype.constructor = tc.articleDetails;\n\n\n\n\n\ttc.textEditor = new tc.tcEditor(\'TEXT\', \'text_editor\', "ace/theme/monokai", "ace/mode/html");\n\ttc.TextSlide = function(){\n\t\tthis.TYPE = "TEXT",\n\t\tthis.name = ko.observable(\'New Text Slide\');\n\t\tthis.text = \'\';\n\t\tthis.syncUI = function(){\n\t\t    if( tc.createTextEditor == null ){\n\t                tc.createTextEditor = createTextEditor();\n\t        }\n\t        tc.createTextEditor();\n\t        tc.textEditor.setValue(this.text)\n\t        //tc.textEditor.aceEditor.focus();\n\t        tc.koModel.helpTemplateID(\'help_text_slide\');\n\t\t};\n\t\tthis.syncData = function(){\n\t        this.text = tc.textEditor.getValue()\n\t\t};\n\n\t}\n\ttc.TextSlide.prototype = new tc.baseSlide();\n\ttc.TextSlide.prototype.constructor = tc.TextSlide;\n\n\ttc.ImageSlide = function(){\n\t\tthis.TYPE = "IMAGE",\n\t\tthis.name = ko.observable(\'Name for the new Image Slide\');\n\t\tthis.src = ko.observable();;\n\t\tthis.watches = new Array();\n\t\tthis.addWatch = function(div){\n\t\t\trect = tc.UIManager.currentSlide.data.getRectFromDiv(div)\n\t\t\tw = this.getWatch(div).w;\n\t\t\tif(  w == null ){\n\t\t\t\tw = new tc.ImageWatch();\n\t\t\t\tw.rect = {x: rect.x , y:rect.y , width: rect.width, height: rect.height};\n\t\t\t\tw.setDiv( div );\n\t\t\t\tthis.watches.push(w);\n\t\t\t}\n\t\t\ttc.koModel.watch(w);\n\n\t\t};\n\t\tthis.getRectFromDiv = function(div){\n\t\t\to = { x : div.css(\'left\'), y : div.css(\'top\'), width : div.css(\'width\'), height : div.css(\'height\') }\n\t\t\txoffset = parseInt(o.x.replace(\'px\', \'\'), 10)\n\t\t\txoffset = xoffset - tc.board.offset().left\n\t\t\to.x = xoffset + \'px\'\n\t\t\tyoffset = parseInt(o.y.replace(\'px\', \'\'), 10)\n\t\t\tyoffset = yoffset - tc.board.offset().top\n\t\t\to.y = yoffset + \'px\'\n\n\t\t\treturn o\n\t\t};\n\t\tthis.getWatch = function(div){\n\t\t\trect = tc.UIManager.currentSlide.data.getRectFromDiv(div)\n\t\t\to = null;\n\t\t\tvar i =0; \n\t\t\tfor(;i < this.watches.length; i++){\n\t\t\t\tif(this.watches[i].rect.x == rect.x &&  \n\t\t\t\t\tthis.watches[i].rect.y == rect.y &&\n\t\t\t\t\tthis.watches[i].rect.width == rect.width &&\n\t\t\t\t\tthis.watches[i].rect.height == rect.height \n\t\t\t\t\n\t\t\t\t){\n\t\t\t\t\to = this.watches[i];\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\treturn { w : o }\n\t\t};\n\t\tthis.deleteWatch = function(w){\n\t\t\tvar i =0; \n\t\t\tfor(;i < this.watches.length; i++){\n\t\t\t\tif(this.watches[i] == w)\n\t\t\t\t{\n\t\t\t\t\tthis.watches[i].getDiv().hide();\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tthis.watches.splice(i, 1)\n\t\t\ttc.koModel.watch(null);\n\t\t};\n\t\t\n\t\tthis.clearAllWatches = function(){\n\t\t\tvar i =0; \n\t\t\tfor(;i < this.watches.length; i++){\n\t\t\t\tthis.watches[i].getDiv().hide();\n\t\t\t}\n\t\t};\n\t\t\n\t\t\n\t\tthis.syncUI = function(){\n\t\t    tc.board.init();\n\t\t    tc.koModel.helpTemplateID(\'help_image_slide\');\n\t\t    if ( this.watches.length > 0){ \n\t\t\t\tfor(var i = 0; i < this.watches.length; i++){\n\t\t\t\t\tthis.watches[i].getDiv().show();\n\t\t\t\t}\n\t\t\t}\n\n\t\t};\n\t\t\n\t\tthis.syncData = function(){\n\t\t    this.clearAllWatches();\n\t\t};\n\t\t\n\t\tthis.hide = function(){\n\t\t    tc.koModel.watch(null);\n\t\t};\n\t}\n\ttc.ImageSlide.prototype = new tc.baseSlide();\n\ttc.ImageSlide.prototype.constructor = tc.ImageSlide;\n\n\n\tvar divDict = {\n\t}\n\n\ttc.ImageWatch = function(){\n\t\tthis.rect = {};\n\t\tthis.div = null;\n\t\tthis.guid = null;\n\t\tthis.getDiv = function(){\n\t\t\treturn divDict[this.guid];\n\t\t};\n\t\tthis.text = ko.observable(\'Explain code here\');\n\t\tthis.setDiv = function(d){\n\t\t\t//this.div = d;\n\t\t\tthis.guid = guid()\n\t\t\tdivDict[this.guid] = d\n\t\t\td.data("watch", this);\n\t\t\td.on(\'click\' , function(){\n\t\t\t\td = $(this)\n\t\t\t\ta = d.data(\'watch\')\n\t\t\t\ttc.koModel.watch(a);\n\t\t\t});\n\t\t}\n\t\tthis.delete = function(){\n\t\t\ttc.UIManager.currentSlide.data.deleteWatch(this);\n\t\t}\n\t}\n\n\ttc.codeEditor = new tc.tcEditor(\'CODE\', \'code_editor\', "ace/theme/monokai", "ace/mode/html");\n\ttc.CodeSlide = function(){\n\t\tthis.TYPE = "CODE",\n\t\tthis.name = ko.observable(\'Name of the new code slide.\');\n\t\tthis.text = \'\';\n\t\tthis.watches = new Array();\n\t\tthis.addWatch = function(lineNumber){\n\t\t\tw = this.getWatch(lineNumber).w;\n\t\t\tif(  w == null ){\n\t\t\t\tw = new tc.CodeWatch();\n\t\t\t\tw.lineNumber = lineNumber;\n\t\t\t\tthis.watches.push(w);\n\t\t\t}\n\t\t\ttc.codeEditor.aceEditor.gotoLine(w.lineNumber + 1)\n\t\t\ttc.koModel.watch(w);\n\n\t\t};\n\t\tthis.getWatch = function(l){\n\t\t\tb = false;\n\t\t\to = null;\n\t\t\tvar i =0; \n\t\t\tfor(;i < this.watches.length; i++){\n\t\t\t\tif(this.watches[i].lineNumber == l ){\n\t\t\t\t\tb =  true;\n\t\t\t\t\to = this.watches[i];\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\treturn { w : o }\n\t\t};\n\t\tthis.deleteWatch = function(w){\n\t\t\tvar i =0; \n\t\t\tfor(;i < this.watches.length; i++){\n\t\t\t\tif(this.watches[i].lineNumber == w.lineNumber ){\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tthis.watches.splice(i, 1)\n\t\t\t\n\t\t\tarr = new Array();\n\t\t\tvar i =0; \n\t\t\tfor(;i < this.watches.length; i++){\n\t\t\t\tarr.push( this.watches[i].lineNumber )\n\t\t\t}\n\t\t\t\n\t\t\ttc.codeEditor.resetWatches(arr);\n\t\t\ttc.koModel.watch(null);\n\t\t}\n\t\t\n\t\tthis.resetWatch = function(o){\n\t\t\td = this.getWatch(o.old)\n\t\t\td.w.lineNumber = o.new;\n\t\t}\n\t\t\n\t\tthis.syncUI = function(){\n\t\t    if( tc.createCodeEditor == null ){\n\t                tc.createCodeEditor = createCodeEditor();\n\t        }\n\t        tc.createCodeEditor();\n\t        tc.codeEditor.setValue(this.text)\n\t        tc.codeEditor.aceEditor.focus();\n\t        tc.koModel.helpTemplateID(\'help_code_slide\');\n\t        if ( this.watches.length > 0){ \n\t\t\t\tvar arr = new Array();\n\t\t\t\tfor(var i = 0; i < this.watches.length; i++){\n\t\t\t\t\tarr[i] = this.watches[i].lineNumber;\n\t\t\t\t}\n\t\t\t\ttc.codeEditor.resetWatches(arr);\n\t\t\t\tw = this.watches[0];\n\t\t\t\ttc.codeEditor.aceEditor.gotoLine(w.lineNumber + 1)\n\t\t\t\ttc.koModel.watch(w)\n\t\t\t}\n\t\t};\n\t\t\n\t\tthis.syncData = function(){\n\t\t    this.text = tc.codeEditor.getValue();\n\t\t    tc.codeEditor.clearAllWatches();\n\t\t};\n\t\t\n\t\tthis.hide = function(){\n\t\t    tc.koModel.watch(null);\n\t\t};\n\t\t\n\t\tthis.setText = function(text){\n\t        this.text = text;\n\t\t\ttc.codeEditor.setValue(this.text)\n\t\t};\n\n\t}\n\ttc.CodeSlide.prototype = new tc.baseSlide();\n\ttc.CodeSlide.prototype.constructor = tc.CodeSlide;\n\n\ttc.CodeWatch = function(){\n\t\tthis.lineNumber = 0;\n\t\tthis.text = ko.observable(\'Explain code here\');\n\t\tthis.delete = function(){\n\t\t\ttc.UIManager.currentSlide.data.deleteWatch(this);\n\t\t}\n\t}\n\n\tfunction getUniqueId(){\n\t    var id = tc.articleDetails.initialSeed;\n\t    id++;\n\t    return function(){\n\t        id++;\n\t        tc.articleDetails.initialSeed = id;\n\t        return id;\n\t    } \n\t}\n\n\ttc.getUID = getUniqueId();\n\n\n\ttc.Slide = function(data){\n\t\tthis.data = data;\n\t\tthis.data[\'uid\'] = tc.getUID();\n\t\t//tc.vm.slides.push(this);\n\t\t//tc.vm.currentSlide( this )\n\t\tthis.setText = function(text){\n\t        this.data.setText(text);\n\t\t};\n\t\t//Set the text into editor\n\t\tthis.syncUI = function(){\n\t\t\tthis.data.syncUI();\n\t\t};\n\t\t\n\t\tthis.show = function(){\n\t\t};\n\t\t\n\t\tthis.syncData = function(){\n\t\t\tthis.data.syncData();\n\t\t};\n\t\tthis.hide = function(){\n\t        this.data.hide();\n\t\t};\n\t\t\n\t\t\n\t\tthis.deleteSlide = function(){\n\t\t\ttc.koModel.slides.remove(this);\n\t\t\tif( tc.koModel.slides().length > 0 ){\n\t\t\t\t//also set the focus to the first node of the tree.\n\t\t\t\ttc.UIManager.changeSlide(tc.koModel.slides()[0])\n\t\t\t}\n\t\t\telse{\n\t\t\t\ttc.koModel.currentSlide( null )\n\t\t\t}\n\t\t\t$(\'#scrollbar1\').tinyscrollbar_update();\n\t\t};\n\t\t\n\t\tthis.changeSlide = function(){\n\t\t\ttc.UIManager.changeSlide(this)\n\t\t};\n\t\t\n\t\tthis.addCodeWatch = function(){\n\t\t\t\n\t\t}\n\t}\n\n\ttc.UIManager = {\n\t\tcurrentSlide : null,\n\t\tthat : this,\n\t\tnewSlide : null,\n\t\tinit : function(t){\n\t\t\tthis.setAndChangeSlide(t);\n\t\t\t},\n\t\tchangeSlide : function(s){\n\t\t\tif(s){\n\t\t\t    this.newSlide = s;\n\t\t\t}\n\t\t\tif ( this.currentSlide ){\n\t\t\t\tthis.currentSlide.syncData()\n\t\t\t\tthis.currentSlide.hide()\n\t\t\t}\n\t\t\tthis.currentSlide = this.newSlide;\n\t\t\ttc.koModel.currentSlide(this.currentSlide)\n\t\t\ttc.cacheManager.getSlideData(this.currentSlide)\n\t\t\t//this.currentSlide.syncUI();\n\t\t\t//this.currentSlide.show();\n\t\t},\n\t\t\'syncUIDeferred\' : function(res){\n\t\t\tif(res){\n\t\t\t\td = $.parseJSON(res)\n\t\t\t\to = d.data;\n\t\t\t\t//tc.UIManager.currentSlide.data = d.data;\n\t\t\t\t//tc.cc(tc.UIManager.currentSlide.data)\n\t\t\t\tvar copyTo = null;\n\t\t\t\tif(o.TYPE == "CODE"){\n\t\t\t\t\tcopyTo = new tc.CodeSlide();\n\t\t\t\t\t_.each(o.watches, function(w,i){\n\t\t\t\t\t\tvar temp = new tc.CodeWatch();\n\t\t\t\t\t\ttemp.lineNumber = w.lineNumber;\n\t\t\t\t\t\ttemp.text(  w.text );\n\t\t\t\t\t\tcopyTo.watches.push(w);\n\t\t\t\t\t})\n\t\t\t\t} else if(o.TYPE == "IMAGE" ){\n\t\t\t\t\tcopyTo = new tc.ImageSlide();\n\t\t\t\t\t_.each(o.watches, function(w,i){\n\t\t\t\t\t\tvar temp = new tc.ImageWatch();\n\t\t\t\t\t\ttemp.rect = w.rect;\n\t\t\t\t\t\telem = document.createElement(\'div\');\n\t\t\t\t\t\t$(elem).css({border:\'1px solid black\'});\n\t\t\t\t\t\t$(elem).css({\n\t\t\t\t\t\t\t\t"z-index": 100,\n\t\t\t\t\t\t\t\t"position": "absolute",\n\t\t\t\t\t\t\t\t"left": event.clientX,\n\t\t\t\t\t\t\t\t"top": event.clientY,\n\t\t\t\t\t\t\t\t"width": 0,\n\t\t\t\t\t\t\t\t"height": 0,\n\t\t\t\t\t\t\t\t"opacity" : .5,\n\t\t\t\t\t\t\t});\t\n\t\t\t\t\t\t$(elem).css({left: w.rect.left, top: w.rect.top, width: w.rect.width, height: w.rect.height});\n\t\t\t\t\t\tdocument.body.appendChild(elem);\n\t\t\t\t\t\ttemp.div = $(elem);\n\t\t\t\t\t\t$(elem).hide();\n\t\t\t\t\t\ttemp.text(  w.text );\n\t\t\t\t\t\tcopyTo.watches.push(w);\n\t\t\t\t\t})\n\t\t\t\t} else if(o.TYPE == "TEXT" ){\n\t\t\t\t\tcopyTo = new tc.TextSlide();\n\t\t\t\t}\n\t\t\t\tcopyTo.name(o.name);\n\t\t\t\tcopyTo.text = o.text;\n\t\t\t\tcopyTo.uid = o.uid;\n\t\t\t\ttc.UIManager.currentSlide.data = copyTo;\n\t\t\t\ttc.cacheManager[d.data.uid].state.syncedWithServer = true;\n\t\t\t}\n\t\t\t\n\t\t\ttc.UIManager.currentSlide.syncUI();\n\t\t\ttc.UIManager.currentSlide.show();\n\t\t},\n\t\tafterRender : function(){\n\t\t\tthis.currentSlide.syncUI();\n\t\t\tthis.currentSlide.show();\n\t\t},\n\t\tsetAndChangeSlide : function(s){\n\t\t    this.newSlide = s;\n\t\t    this.changeSlide();\n\t\t},\n\t    addNewSlide : function(s){\n\t        if( s == "Text Slide" ){\n\t\t\t\ttc.UIManager.newSlide = new tc.Slide(new tc.TextSlide());\n\t\t\t}\n\t\t\telse if( s == "Code Slide" ){\n\t\t\t\ttc.UIManager.newSlide = new tc.Slide(new tc.CodeSlide());\n\t\t\t}\n\t\t\telse if( s == "Image Slide" ){\n\t\t\t\ttc.UIManager.newSlide = new tc.Slide(new tc.ImageSlide());\n\t\t\t}\n\t\t\ttc.cacheManager.addSlide(tc.UIManager.newSlide, new tc.state(true, false))\n\t\t\ttc.koModel.slides.push(tc.UIManager.newSlide);\n\t        tc.UIManager.changeSlide();\n\t\t\t$(\'#scrollbar1\').tinyscrollbar_update();\n\t    },\t\n\t    changeToSlideWithUID : function(uid){\n\t        if( uid == -1 ){\n\t            slides = tc.koModel.slides();\n\t\t\t    tc.UIManager.newSlide = slides[0];\n\t\t\t    tc.UIManager.changeSlide();\n\t        }\n\t        else{\n\t            slideToChange = tc.UIManager.getSlideWithUID(uid);\n\t\t\t    if( slideToChange ) {\n\t\t\t        tc.UIManager.newSlide = slideToChange;\n\t\t\t        tc.UIManager.changeSlide();\n\t\t\t    }\n\t\t\t}\n\t    },\n\n\t    changeNameOfSlide : function(uid, name){\n\t        if( uid == -1 ){\n\t            tc.koModel.articleDetails.name(name);\n\t        }\n\t        else{\n\t            temp = tc.UIManager.getSlideWithUID(uid);\n\t            if( temp ){\n\t                temp.data.name = name\n\t            }\n\t        }\n\t    },\n\t    getSlideWithUID : function(uid){\n\t        temp = null;\n\t        var i = 0;\n\t        slides = tc.koModel.slides();\n\t        for(; i < slides.length; i++ )\n\t        {\n\t\t\t    s = slides[i];\n\t\t\t    if( s.data.uid == uid ){\n\t\t\t         temp = s;\n\t                break;\n\t\t\t    }\n\t\t    }\n\t\t    return temp;\n\t    },\n\t    onInitSlide : function(){\n\t        if( this.currentSlide.data.TYPE == "CODE" ){\n\t            if( tc.createCodeEditor == null ){\n\t                tc.createCodeEditor = createCodeEditor();\n\t            }\n\t            tc.createCodeEditor();\n\t        }\n\t        else if( this.currentSlide.data.TYPE == "TEXT" ){\n\t            if( tc.createTextEditor == null ){\n\t                tc.createTextEditor = createTextEditor();\n\t            }\n\t            tc.createTextEditor();\n\t        }\n\t        \n\t    },\n\t    syncLastSlide : function(){\n\t        this.currentSlide.syncData();\n\t    },\n\t}\n\n\tfunction createCodeEditor(){\n\t    init = false;\n\t    $(\'#code_editor\').css(\'height\',(tc.adjustUI.editorHeight - 20) + \'px\')\n\t    return function(){\n\t        tc.codeEditor.init();\n\t        \n\t    }\n\t};\n\n\ttc.createCodeEditor = null;\n\n\n\tfunction createTextEditor(){\n\t    init = false;\n\t    $(\'#text_editor\').css(\'height\',(tc.adjustUI.editorHeight - 10) + \'px\')\n\t    return function(){\n\t        tc.textEditor.init();\n\t        \n\t    }\n\t};\n\n\ttc.createTextEditor = null;\n\tfunction createUploader(){            \n\t\tvar uploader = new qq.FileUploader({\n\t\t\telement: document.getElementById(\'file-uploader\'),\n\t\t\taction: \'ajaxupload\',\n\t\t\tdebug: true,\n\t\t\tonComplete: function( id, fileName, responseJSON ) {\n\t\t\t\turl = "/static/images/" + responseJSON.success\n\t\t\t\ttc.UIManager.currentSlide.data.src(url)\n\t\t\t},\n\t\t\tonAllComplete: function( uploads ) {\n\t\t\t// uploads is an array of maps\n\t\t\t// the maps look like this: { file: FileObject, response: JSONServerResponse }\n\t\t\t//alert( "All complete!" ) ;\n\t\t\t}\n\t\t});           \n\t}\n\n\t/*\n\t$( document ).ready(function(){\n\t\ttemp = new tc.Slide(new tc.TextSlide());\n\t\tko.applyBindings(tc.vm)\n\t\ttc.UIManager.init(temp);\n\t\t$(\'#scrollbar1\').tinyscrollbar();\n\t\tcreateUploader()\n\t});\n\t*/\n\t\n\ttc.saveArticleData = function(){\n\t\tthis.getMetaData = function(){\n\t\t\tobj = {};\n\t\t\tobj[\'articleMetaData\'] = ko.toJSON(tc.articleDetails);\n\t\t\tobj[\'slidesMetaData\'] = [];\n\t\t\tko.utils.arrayForEach(tc.koModel.slides(), function(s) {\n            \to = {};\n            \to[\'name\'] = s.data.name();\n            \to[\'uid\'] = s.data.uid;\n            \to[\'TYPE\'] = s.data.TYPE;\n            \tobj[\'slidesMetaData\'].push(o)\n        \t});\n        \tobj[\'firstSlide\'] = ko.toJS( tc.koModel.slides()[0].data )\n\t\t\treturn obj\n\t\t};\n\n\t\tthis.getSlides = function(){\n\t\t\treturn ko.toJSON(tc.koModel.slides);\n\t\t};\n\n\t\tthis.getData = function(){\n\t\t\tobj = {\'metaData\' : this.getMetaData(), \'slides\': this.getSlides()}\n\t\t\treturn JSON.stringify(obj)\n\t\t};\n\t}\n\n\tfunction saveArticle(){\n\t\to = new tc.saveArticleData();\n\t\td = o.getData();\n\t\t$.ajax({\n\t\t  type: "POST",\n\t\t  url: "saveSlides",\n\t\t  data: {data: d},\n\t\t  success: function(result){\n\t\t\t\talert(result)\n\t\t  },\n\t\t});\n\t\t\n\t\treturn false;\n\n\t}\n\n\tfunction saveSlides(){\n\t\t$.ajax({\n\t\t  type: "POST",\n\t\t  url: "saveSlides",\n\t\t  data: {slides: ko.toJSON(tc.koModel.slides)},\n\t\t  success: function(result){\n\t\t\t\talert(result)\n\t\t  },\n\t\t});\n\t\t\n\t\treturn false;\n\t}\n\n\ttc.initHelpHandlers = function(){\n\t    $(\'#name\').on(\'focus\', function(){\n\t        tc.koModel.helpTemplateID(\'help_name\');\n\t    });\n\t    $(\'#tags\').on(\'focus\', function(){tc.koModel.helpTemplateID(\'help_tags\')});\n\t    $(\'#zist\').on(\'focus\', function(){tc.koModel.helpTemplateID(\'help_zist\')});\n\t}\n\n\n\t$( document ).ready(function(){\n\t    tc.adjustUI.adjustHeight();\n\t    setMode();\n\t    if(tc.mode == "create"){\n\t    \tcreate_ready()\n\t    }\n\t    else\n\t    {\n\t    \tedit_ready()\n\t    }\n\n\t    ko.applyBindings(tc.koModel);\n\t    $(\'#scrollbar1\').tinyscrollbar();\n\n\t    tc.initHelpHandlers();\n\t    createUploader();\n\n\t    $(\'#preview_close\').click(function(){\n\t    \ttcp.close();\n\t    })\n\t})\n\n\tfunction setMode(){\n\t\ttc.mode = "create"\n\t\tif(window.metadata && window.metadata != \'\'){\n\t\t\ttc.mode = "edit";\n\t\t}\n\t}\n\n\tfunction create_ready(){\n\t\ttc.koModel.articleDetails  = new tc.Slide(tc.articleDetails);\n\t    tc.UIManager.setAndChangeSlide(tc.koModel.articleDetails);\n\t    $(\'#name\').focus();\n\t}\n\n\ttc.copyProperties = [\'name\', \'uid\', \'TYPE\']\n\tfunction edit_ready(){\n\t\twindow.sj = $.parseJSON(metadata)\n\t\tartDetailsData = $.parseJSON( sj[\'articleMetaData\'] );\n\t\twindow.slides =  sj[\'slidesMetaData\'] ;\n\t\twindow.firstSlide = sj[\'firstSlide\'] ;\n\t\ttc.articleDetails.prepopulate(artDetailsData.name, artDetailsData.tags, artDetailsData.zist)\n\t\ttc.koModel.articleDetails  = new tc.Slide(tc.articleDetails);\n\t\tdataSlides = []\n\t\t_.each(window.slides, function(elem, i){\n\t\t\t\to =  elem;\n\t\t\t\tvar copyTo = null;\n\t\t\t\tif(o.TYPE == "CODE"){\n\t\t\t\t\tcopyTo = new tc.CodeSlide();\n\t\t\t\t} else if(o.TYPE == "IMAGE" ){\n\t\t\t\t\tcopyTo = new tc.ImageSlide();\n\t\t\t\t} else if(o.TYPE == "TEXT" ){\n\t\t\t\t\tcopyTo = new tc.TextSlide();\n\t\t\t\t}\n\t\t\t\tcopyTo.name(o.name);\n\t\t\t\tcopyTo.text = o.text;\n\t\t\t\tcopyTo.uid = o.uid;\n\t\t\t\tslide = new tc.Slide(copyTo);\n\t\t\t\ttc.koModel.slides().push(slide);\n\t\t\t\ttc.cacheManager.addSlide(slide, new tc.state(false, false))\n\t\t\t}\n\t\t);\n\t\ttc.koModel.slides()[0].data.text = firstSlide.text;\n\t\t//tc.cc(firstSlide)\n\n\t\ttc.cacheManager[firstSlide.uid].state.syncedWithServer = true;\t\n\n\t\t$(\'#tc_tree_container\').show();\n\t\t//tc.UIManager.addNewSlide("Text Slide");\n\t\ttc.UIManager.changeSlide(tc.koModel.slides()[0])\n\t\ttc.koModel.articleDetails.data.showNextButton(false)\n\t\ttc.koModel.helpTemplateID(\'select_slide\');\n\n\n\t\t/*tc.koModel.previewSlides = ko.observableArray();\n\t\ttc.articleDetailsHolder.data = tc.articleDetails;\n\t\ttc.koModel.articleDetails = tc.articleDetailsHolder;*/\n\t}\n\n\n\ttc.preview = function(){\n\t   tc.UIManager.syncLastSlide();\n\t   tcp.previewData[\'slidesJSON\'] =  ko.toJSON(tc.koModel.slides);\n\t   tcp.overlayInit();\n\t}\n\n\n\ttc.state = function(i,j){\n\tthis.isNew = i;\n\tthis.syncedWithServer = j;\n\t}\n\ntc.cacheManager = {\n\t\'addSlide\' : function(slide, state){\n\t\tthis[slide.data.uid] = {\n\t\t\t\'state\' : state,\n\t\t\t\'slide\' : slide,\n\t\t}\n\t},\n\n\t\'getSlideData\' : function(s){\n\t\t\n\t\tif( s.data.TYPE == "METADATA"){\n\t\t\t\t\t\tvar deferred = $.Deferred();\n\t\t\tdeferred.resolve(null,null);\n\t\t\tdeferred.done(tc.UIManager.syncUIDeferred);\n\t\t\treturn;\n\t\t}\n\n\t\tobj = this[s.data.uid]\n\t\tif(obj.state.isNew || obj.state.syncedWithServer){\n\t\t\tvar deferred = $.Deferred();\n\t\t\tdeferred.resolve(null,obj.state);\n\t\t\tdeferred.done(tc.UIManager.syncUIDeferred);\n\t\t}\n\t\telse{\n\t\t\tvar post = $.ajax({\n\t\t\t\t  dataType: "json",\n\t\t\t\t  url: \'getSlide?uid=\'+ tc.UIManager.currentSlide.data.uid + "&aid=" + getParameterByName(\'aid\'),\n\t\t\t\t  success: function(res){/*\n\t\t\t\t  \t\td = $.parseJSON(res)\n\t\t\t\t  \t\ttcp.UIManager.currentSlide.data = d.data\n\t\t\t\t  */}\n\t\t\t});\n\n\t\t\tpost.done(tc.UIManager.syncUIDeferred)\n\t\t}\n\t}\n}\n\n\n\n\t/*\n\n\n\tfunction createUploader(){            \n\t\tvar uploader = new qq.FileUploader({\n\t\t\telement: document.getElementById(\'file-uploader\'),\n\t\t\taction: \'ajaxupload\',\n\t\t\tdebug: true,\n\t\t\tonComplete: function( id, fileName, responseJSON ) {\n\t\t\t\turl = "/static/images/" + responseJSON.success\n\t\t\t\ttc.UIManager.currentSlide.data.src(url)\n\t\t\t},\n\t\t\tonAllComplete: function( uploads ) {\n\t\t\t// uploads is an array of maps\n\t\t\t// the maps look like this: { file: FileObject, response: JSONServerResponse }\n\t\t\t//alert( "All complete!" ) ;\n\t\t\t}\n\t\t});           \n\t}\n\n\n\n\t1) on create of the node create a slide.\n\t2) slide relationship with the node of the tree.\n\t3) the UI synchronization with the slide change\n\n\n\n\n\n\tfunction saveTree(){\n\t    jstree =ko.toJSON($(\'#toc\').jstree(\'get_json\', $(\'#toc\'), -1));\n\t    $.ajax({\n\t\t  type: "POST",\n\t\t  url: "saveTree",\n\t\t  data: {js: jstree},\n\t\t  success: function(result){\n\t\t\t\talert(result)\n\t\t  },\n\t\t});\n\t\t\n\t\treturn false;\n\n\t}\n\t9416062008\n\t143999416\n\t*/', u'TYPE': u'CODE', u'name': u'second', u'watches': [{u'text': u'watch 1', u'lineNumber': 1137}, {u'text': u'watch 2', u'lineNumber': 1145}], u'uid': 4}}
[31/Mar/2014 09:54:43] DEBUG [articles.views:137] slide is <type 'dict'>     ---------- ---------   {u'data': {u'src': u'/static/images/55583de3-b8ba-11e3-8aa8-70cd6092b026.jpg', u'TYPE': u'IMAGE', u'name': u'Name for the new Image Slide', u'watches': [{u'text': u'top 0 and left 0', u'div': None, u'guid': u'c7caef3e-1032-43a7-f7cb-43c7247ed8a4', u'rect': {u'y': u'1px', u'x': u'2px', u'height': u'70px', u'width': u'500px'}}, {u'text': u'bottom 0 and left 0', u'div': None, u'guid': u'9c50a6b7-17ec-b2e8-2893-56952cc5b1c9', u'rect': {u'y': u'262px', u'x': u'9px', u'height': u'90px', u'width': u'486px'}}], u'uid': 5}}
[31/Mar/2014 09:54:43] DEBUG [articles.views:137] slide is <type 'dict'>     ---------- ---------   {u'data': {u'src': u'/static/images/55583de3-b8ba-11e3-8aa8-70cd6092b026.jpg', u'TYPE': u'IMAGE', u'name': u'Name for the new Image Slide', u'watches': [{u'text': u'top 0 and left 0', u'div': None, u'guid': u'c7caef3e-1032-43a7-f7cb-43c7247ed8a4', u'rect': {u'y': u'1px', u'x': u'2px', u'height': u'70px', u'width': u'500px'}}, {u'text': u'bottom 0 and left 0', u'div': None, u'guid': u'9c50a6b7-17ec-b2e8-2893-56952cc5b1c9', u'rect': {u'y': u'262px', u'x': u'9px', u'height': u'90px', u'width': u'486px'}}], u'uid': 5}}
[31/Mar/2014 09:54:43] DEBUG [articles.views:139] BEHOLD {u'data': {u'src': u'/static/images/55583de3-b8ba-11e3-8aa8-70cd6092b026.jpg', u'TYPE': u'IMAGE', u'name': u'Name for the new Image Slide', u'watches': [{u'text': u'top 0 and left 0', u'div': None, u'guid': u'c7caef3e-1032-43a7-f7cb-43c7247ed8a4', u'rect': {u'y': u'1px', u'x': u'2px', u'height': u'70px', u'width': u'500px'}}, {u'text': u'bottom 0 and left 0', u'div': None, u'guid': u'9c50a6b7-17ec-b2e8-2893-56952cc5b1c9', u'rect': {u'y': u'262px', u'x': u'9px', u'height': u'90px', u'width': u'486px'}}], u'uid': 5}}
[31/Mar/2014 09:54:43] DEBUG [articles.views:139] BEHOLD {u'data': {u'src': u'/static/images/55583de3-b8ba-11e3-8aa8-70cd6092b026.jpg', u'TYPE': u'IMAGE', u'name': u'Name for the new Image Slide', u'watches': [{u'text': u'top 0 and left 0', u'div': None, u'guid': u'c7caef3e-1032-43a7-f7cb-43c7247ed8a4', u'rect': {u'y': u'1px', u'x': u'2px', u'height': u'70px', u'width': u'500px'}}, {u'text': u'bottom 0 and left 0', u'div': None, u'guid': u'9c50a6b7-17ec-b2e8-2893-56952cc5b1c9', u'rect': {u'y': u'262px', u'x': u'9px', u'height': u'90px', u'width': u'486px'}}], u'uid': 5}}
[31/Mar/2014 09:54:43] DEBUG [articles.views:137] slide is <type 'dict'>     ---------- ---------   {u'data': {u'text': u'', u'TYPE': u'TEXT', u'name': u'The end', u'uid': 6}}
[31/Mar/2014 09:54:43] DEBUG [articles.views:137] slide is <type 'dict'>     ---------- ---------   {u'data': {u'text': u'', u'TYPE': u'TEXT', u'name': u'The end', u'uid': 6}}
[31/Mar/2014 09:54:43] DEBUG [articles.views:139] BEHOLD {u'data': {u'text': u'', u'TYPE': u'TEXT', u'name': u'The end', u'uid': 6}}
[31/Mar/2014 09:54:43] DEBUG [articles.views:139] BEHOLD {u'data': {u'text': u'', u'TYPE': u'TEXT', u'name': u'The end', u'uid': 6}}
[31/Mar/2014 11:46:37] DEBUG [articles.views:137] slide is <type 'dict'>     ---------- ---------   {u'data': {u'text': u'JQuery 1.5 introduced the concept of \u201cDeferred\u201d, you can read more about it here. I find this concept very powerful when working with Javascript and ajax, and I think is a game changer to the way we are used to write asynchronous code in js.\n\nUsually, the way we are used to deal with asynchronous code in Javascript is passing callbacks as an argument to the function.', u'TYPE': u'TEXT', u'name': u'Introduction', u'uid': 3}}
[31/Mar/2014 11:46:37] DEBUG [articles.views:137] slide is <type 'dict'>     ---------- ---------   {u'data': {u'text': u'JQuery 1.5 introduced the concept of \u201cDeferred\u201d, you can read more about it here. I find this concept very powerful when working with Javascript and ajax, and I think is a game changer to the way we are used to write asynchronous code in js.\n\nUsually, the way we are used to deal with asynchronous code in Javascript is passing callbacks as an argument to the function.', u'TYPE': u'TEXT', u'name': u'Introduction', u'uid': 3}}
[31/Mar/2014 11:46:37] DEBUG [articles.views:139] BEHOLD {u'data': {u'text': u'JQuery 1.5 introduced the concept of \u201cDeferred\u201d, you can read more about it here. I find this concept very powerful when working with Javascript and ajax, and I think is a game changer to the way we are used to write asynchronous code in js.\n\nUsually, the way we are used to deal with asynchronous code in Javascript is passing callbacks as an argument to the function.', u'TYPE': u'TEXT', u'name': u'Introduction', u'uid': 3}}
[31/Mar/2014 11:46:37] DEBUG [articles.views:139] BEHOLD {u'data': {u'text': u'JQuery 1.5 introduced the concept of \u201cDeferred\u201d, you can read more about it here. I find this concept very powerful when working with Javascript and ajax, and I think is a game changer to the way we are used to write asynchronous code in js.\n\nUsually, the way we are used to deal with asynchronous code in Javascript is passing callbacks as an argument to the function.', u'TYPE': u'TEXT', u'name': u'Introduction', u'uid': 3}}
[31/Mar/2014 11:46:37] DEBUG [articles.views:137] slide is <type 'dict'>     ---------- ---------   {u'data': {u'text': u'$.ajax({\n    url: "/echo/json/",\n    data: {json: JSON.stringify({firstName: "Jose", lastName: "Romaniello"})} ,\n    type: "POST",\n    success: function(person){ \n        alert(person.firstName + " saved."); \n    },\n    error: function(){ \n        alert("error!");\n    } \n});', u'TYPE': u'CODE', u'name': u'Call back hell', u'watches': [{u'text': u'In typical callback we set success function and set the code.<br>\nAlso multiple callbacks are not allowed.', u'lineNumber': 4}], u'uid': 4}}
[31/Mar/2014 11:46:37] DEBUG [articles.views:137] slide is <type 'dict'>     ---------- ---------   {u'data': {u'text': u'$.ajax({\n    url: "/echo/json/",\n    data: {json: JSON.stringify({firstName: "Jose", lastName: "Romaniello"})} ,\n    type: "POST",\n    success: function(person){ \n        alert(person.firstName + " saved."); \n    },\n    error: function(){ \n        alert("error!");\n    } \n});', u'TYPE': u'CODE', u'name': u'Call back hell', u'watches': [{u'text': u'In typical callback we set success function and set the code.<br>\nAlso multiple callbacks are not allowed.', u'lineNumber': 4}], u'uid': 4}}
[31/Mar/2014 11:46:37] DEBUG [articles.views:139] BEHOLD {u'data': {u'text': u'$.ajax({\n    url: "/echo/json/",\n    data: {json: JSON.stringify({firstName: "Jose", lastName: "Romaniello"})} ,\n    type: "POST",\n    success: function(person){ \n        alert(person.firstName + " saved."); \n    },\n    error: function(){ \n        alert("error!");\n    } \n});', u'TYPE': u'CODE', u'name': u'Call back hell', u'watches': [{u'text': u'In typical callback we set success function and set the code.<br>\nAlso multiple callbacks are not allowed.', u'lineNumber': 4}], u'uid': 4}}
[31/Mar/2014 11:46:37] DEBUG [articles.views:139] BEHOLD {u'data': {u'text': u'$.ajax({\n    url: "/echo/json/",\n    data: {json: JSON.stringify({firstName: "Jose", lastName: "Romaniello"})} ,\n    type: "POST",\n    success: function(person){ \n        alert(person.firstName + " saved."); \n    },\n    error: function(){ \n        alert("error!");\n    } \n});', u'TYPE': u'CODE', u'name': u'Call back hell', u'watches': [{u'text': u'In typical callback we set success function and set the code.<br>\nAlso multiple callbacks are not allowed.', u'lineNumber': 4}], u'uid': 4}}
[31/Mar/2014 11:46:37] DEBUG [articles.views:137] slide is <type 'dict'>     ---------- ---------   {u'data': {u'text': u'var deferred = $.Deferred();\n\ndeferred.resolve("hello world");\n\ndeferred.done(function(value) {\n    alert(value);\n});', u'TYPE': u'CODE', u'name': u'Introducing $.Deferred', u'watches': [{u'text': u'Create a deffered object.', u'lineNumber': 0}, {u'text': u'defferred object can be resolved or rejected.', u'lineNumber': 2}, {u'text': u'done is called when deferred is resolved.', u'lineNumber': 4}], u'uid': 5}}
[31/Mar/2014 11:46:37] DEBUG [articles.views:137] slide is <type 'dict'>     ---------- ---------   {u'data': {u'text': u'var deferred = $.Deferred();\n\ndeferred.resolve("hello world");\n\ndeferred.done(function(value) {\n    alert(value);\n});', u'TYPE': u'CODE', u'name': u'Introducing $.Deferred', u'watches': [{u'text': u'Create a deffered object.', u'lineNumber': 0}, {u'text': u'defferred object can be resolved or rejected.', u'lineNumber': 2}, {u'text': u'done is called when deferred is resolved.', u'lineNumber': 4}], u'uid': 5}}
[31/Mar/2014 11:46:37] DEBUG [articles.views:139] BEHOLD {u'data': {u'text': u'var deferred = $.Deferred();\n\ndeferred.resolve("hello world");\n\ndeferred.done(function(value) {\n    alert(value);\n});', u'TYPE': u'CODE', u'name': u'Introducing $.Deferred', u'watches': [{u'text': u'Create a deffered object.', u'lineNumber': 0}, {u'text': u'defferred object can be resolved or rejected.', u'lineNumber': 2}, {u'text': u'done is called when deferred is resolved.', u'lineNumber': 4}], u'uid': 5}}
[31/Mar/2014 11:46:37] DEBUG [articles.views:139] BEHOLD {u'data': {u'text': u'var deferred = $.Deferred();\n\ndeferred.resolve("hello world");\n\ndeferred.done(function(value) {\n    alert(value);\n});', u'TYPE': u'CODE', u'name': u'Introducing $.Deferred', u'watches': [{u'text': u'Create a deffered object.', u'lineNumber': 0}, {u'text': u'defferred object can be resolved or rejected.', u'lineNumber': 2}, {u'text': u'done is called when deferred is resolved.', u'lineNumber': 4}], u'uid': 5}}
[31/Mar/2014 11:46:37] DEBUG [articles.views:137] slide is <type 'dict'>     ---------- ---------   {u'data': {u'text': u'', u'TYPE': u'TEXT', u'name': u'Isnt it fun??', u'uid': 6}}
[31/Mar/2014 11:46:37] DEBUG [articles.views:137] slide is <type 'dict'>     ---------- ---------   {u'data': {u'text': u'', u'TYPE': u'TEXT', u'name': u'Isnt it fun??', u'uid': 6}}
[31/Mar/2014 11:46:37] DEBUG [articles.views:139] BEHOLD {u'data': {u'text': u'', u'TYPE': u'TEXT', u'name': u'Isnt it fun??', u'uid': 6}}
[31/Mar/2014 11:46:37] DEBUG [articles.views:139] BEHOLD {u'data': {u'text': u'', u'TYPE': u'TEXT', u'name': u'Isnt it fun??', u'uid': 6}}
[31/Mar/2014 16:59:29] ERROR [django.request:226] Internal Server Error: /articles/spad
Traceback (most recent call last):
  File "/Library/Python/2.7/site-packages/django/core/handlers/base.py", line 114, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/ajay/Tanicode/Tanicode/articles/views.py", line 93, in spad
    a = Tree.objects.get(pk=p)
  File "/Library/Python/2.7/site-packages/django/db/models/manager.py", line 151, in get
    return self.get_queryset().get(*args, **kwargs)
  File "/Library/Python/2.7/site-packages/django/db/models/query.py", line 307, in get
    self.model._meta.object_name)
DoesNotExist: Tree matching query does not exist.
[01/Apr/2014 04:47:48] WARNING [django.request:145] Not Found: /articles/updateSlides
[01/Apr/2014 04:49:16] WARNING [django.request:145] Not Found: /articles/updateSlides
[01/Apr/2014 04:49:40] DEBUG [articles.views:137] slide is <type 'dict'>     ---------- ---------   {u'data': {u'text': u'change is always good man.', u'TYPE': u'TEXT', u'name': u'1', u'uid': 3}}
[01/Apr/2014 04:49:40] DEBUG [articles.views:137] slide is <type 'dict'>     ---------- ---------   {u'data': {u'text': u'change is always good man.', u'TYPE': u'TEXT', u'name': u'1', u'uid': 3}}
[01/Apr/2014 04:49:40] DEBUG [articles.views:139] BEHOLD {u'data': {u'text': u'change is always good man.', u'TYPE': u'TEXT', u'name': u'1', u'uid': 3}}
[01/Apr/2014 04:49:40] DEBUG [articles.views:139] BEHOLD {u'data': {u'text': u'change is always good man.', u'TYPE': u'TEXT', u'name': u'1', u'uid': 3}}
